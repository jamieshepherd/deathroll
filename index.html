<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width,initial-scale=1"/>
	<title>ðŸ’€ðŸŽ² Deathroll</title>
	<style>*{font-family: Arial, sans-serif;}body {text-align:center;}li{list-style-type:none;margin:0;padding:0;}ul{margin:0;padding:20px;}input{padding:10px 20px;max-width:200px; width:100%;font-size:16px;text-align:center;}.buttons{text-align:center;margin:20px auto;max-width:240px;width:100%;}.buttons button{outline:none;cursor:pointer;padding:10px 20px;background:none;border: 1px solid #ccc;width: 100%;font-size:16px;margin:3px 0;}.buttons button.clear{border: 1px dotted #ccc;color:#999;}.buttons button:hover{border-color: #333;}.buttons button.clear:hover{border-color: #f60;color:#f60;}</style>
</head>
<body>
	<main>
	<h1>Deathroll Club</h1>
	<p>You roll. You win. You lose.</p>
	<input id="startNumber" type="number" value="1000" />
	<div class="buttons">
		<button onclick="roll()">ðŸ’€ðŸŽ²</button>
		<button onclick="reset()" class="clear">Clear</button>
	</div>
	<ul id="results">

	</ul>
</main>
	<footer>
		<p>&copy; Gank of America 2019 <script type="text/javascript">new Date().getFullYear()</script></p>
	</footer>
<script type="text/javascript">
	var resultsList = document.getElementById("results");

	var pastResults = [];
	var lastRoll;
	var isGameOver = false;

	function roll() {
		if (lastRoll == null) {
			lastRoll = document.getElementById("startNumber").value;
		}

		if (isGameOver) return;

		// last roll
		lastRoll = Math.floor(Math.random() * Math.floor(lastRoll) + 1);

		console.log("roll was");
		console.log(lastRoll);

		pastResults.push(lastRoll);

		var li = document.createElement("LI");
		li.appendChild(document.createTextNode(lastRoll.toString()));
		resultsList.appendChild(li);

		if (lastRoll <= 1) {
			gameOver();
		}
	}

	function reset() {
		lastRoll = null;
		resultsList.innerHTML = "";
		isGameOver = false;
	}

	function gameOver() {
		isGameOver = true;
		var h2 = document.createElement("H2");
		h2.innerHTML = "Game over";

		resultsList.append(h2);
	}

</script>
</body>
</html>